name: Fdroid test

on:
  push:
    branches: [master, f-droid]
  pull_request:
    branches: [master, f-droid]

jobs:
  setup-works:
    runs-on: ubuntu-latest
    timeout-minutes: 30
    steps:
      # Setup Environment
      - uses: actions/checkout@v3

        # Some tests in polkadart need that, but it is also
        # needed simply running pub get for some reason.
        # We can remove that when we no longer need the
        # git dependency for polkadart.
      - name: Check out code (LFS)
        uses: nschloe/action-cached-lfs-checkout@v1.2.1


      - name: Check fdroid setup
        run: ./scripts/fdroid_init.sh

      - name: Check froid build
        run: ./scripts/fdroid_build.sh
